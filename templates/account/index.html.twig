{% extends 'base.html.twig' %}

{% block title %}Mon compte{% endblock %}

{% block content %}
    <div class="container-fluid">
        <div class="row">
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#">
                                <span data-feather="home"></span>
                                Tableau de Bord
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <span data-feather="file"></span>
                                Commandes
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <span data-feather="bar-chart-2"></span>
                                Mes adresses
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <span data-feather="layers"></span>
                                Mon Compte
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">Tableau de bord</h1>
                </div>

                <h2>Section title</h2>
                <div class="table-responsive">
                    <table class="table table-striped table-sm">
                        <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Header</th>
                            <th scope="col">Header</th>
                            <th scope="col">Header</th>
                            <th scope="col">Header</th>
                        </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1,001</td>
                                <td>random</td>
                                <td>data</td>
                                <td>placeholder</td>
                                <td>text</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="address">
                    <div class="row">
                        <div class="col-sm-4">
                            <h4 class="text-center">La liste des adresses</h4>
                            <div class="address-list">
                                {% if addresses | length > 0 %}
                                    {% for address in addresses %}
                                        <div class="card my-2">
                                            <ul>
                                                <li>Nom : {{ address.name }}</li>
                                                {% if address.street is not null %}
                                                    <li>Rue : {{ address.street }}</li>
                                                {% endif %}
                                                <li>Ville : {{ address.city }}</li>
                                                {% if address.appartement is not null %}
                                                    <li>App : {{ address.appartement }}</li>
                                                {% endif %}
                                            </ul>
                                            <a href="{{ path('delete_address', {'id':address.id}) }}" class="btn btn-danger m-2">Supprimer</a>
                                        </div>
                                    {% endfor %}
                                {% else %}
                                    <small>Vous n'avez pas encore d'adresses</small>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <h4 class="text-center">Ajoutez une nouvelle adresse</h4>
                            <div class="mx-auto card rounded-3">
                                {{ form_start(form)}}
                                <div class="row px-3 mt-4">
                                    <div class="col-md-6 mb-4">
                                        <div class="form-outline datepicker">
                                            {{ form_row(form.name) }}
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <div class="form-outline datepicker">
                                            {{ form_row(form.street) }}
                                        </div>
                                    </div>
                                </div>

                                <div class="row px-3">
                                    <div class="col-md-6 mb-4">
                                        <div class="form-outline datepicker">
                                            {{ form_row(form.city) }}
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <div class="form-outline datepicker">
                                            {{ form_row(form.appartement) }}
                                        </div>
                                    </div>
                                </div>

                                <div class="form-outline p-3 datepicker">
                                    {{ form_row(form.submit) }}
                                </div>
                                {{ form_end(form) }}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="account-info">
                    <div class="row">
                        <h1>Les informations de mon compte</h1>
                        <div class="col-sm-4">
                            <h4>Prenom : {{ app.user.name }}</h4>
                            <h4>Nom : {{ app.user.lastName }}</h4>
                            <h4>Telephone : {{ app.user.phone }}</h4>
                            <h4>Email : {{ app.user.email }}</h4>
                            <h4>Telephone : {{ app.user.phone }}</h4>
                        </div>
                        <div class="col-sm-8">
                            <small>Modifier mes <infos></infos></small>
                        </div>
                    </div>
                </div>

            </main>

        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js" integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js" integrity="sha384-zNy6FEbO50N+Cg5wap8IKA4M/ZnLJgzc6w2NqACZaK0u0FXfOWRRJOnQtpZun8ha" crossorigin="anonymous"></script>
{% endblock %}
